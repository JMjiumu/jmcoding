---
# å½“å‰é¡µé¢å†…å®¹æ ‡é¢˜
title: HOT100
# å½“å‰é¡µé¢å›¾æ ‡
icon: write
# åˆ†ç±»
category:
  - ç®—æ³•
# æ ‡ç­¾
tag:
  - ç®—æ³•
sticky: false
# æ˜¯å¦æ”¶è—åœ¨åšå®¢ä¸»é¢˜çš„æ–‡ç« åˆ—è¡¨ä¸­ï¼Œå½“å¡«å…¥æ•°å­—æ—¶ï¼Œæ•°å­—è¶Šå¤§ï¼Œæ’åè¶Šé å‰ã€‚
star: false
# æ˜¯å¦å°†è¯¥æ–‡ç« æ·»åŠ è‡³æ–‡ç« åˆ—è¡¨ä¸­
article: true
# æ˜¯å¦å°†è¯¥æ–‡ç« æ·»åŠ è‡³æ—¶é—´çº¿ä¸­
timeline: true
---

## HOT100

> åˆ·é¢˜æ—¶çš„ä¸€ç‚¹æ€»ç»“ï¼Œæœ‰çš„é¢˜å¯èƒ½è¿˜æœ‰æ›´å¤šçš„è§£æ³•ï¼Œè¿™é‡Œé¢æ˜¯ä¸ªäººè§‰å¾—å¥½çš„æˆ–è€…ç›®å‰ä¼šçš„ğŸ¤£

## EASY

### [1ã€ä¸¤æ•°ä¹‹å’Œ](https://leetcode.cn/problems/two-sum/?favorite=2cktkvj)

#### 1ã€æš´åŠ›

> `O(N^2)/O(1)`
>
> ç›´æ¥`åŒé‡forå¾ªç¯`éå†æ•°ç»„å¯»æ‰¾ä¸¤ä¸ªæ•°å’Œæ˜¯å¦ä¸º`target`å³å¯

```java
public int[] twoSum(int[] nums, int target) {
    int len = nums.length;
    for (int i = 0; i < len; i++) {
        for (int j = i + 1; j < len; j++) {
            if (nums[i] + nums[j] == target) {
                return new int[]{i, j};
            }
        }
    }
    return new int[0];
}
```

#### 2ã€å“ˆå¸Œè¡¨

> `O(N)/O(N)`
>
> ç”¨å“ˆå¸Œè¡¨ä¿å­˜æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä»¥åŠå¯¹åº”çš„ä¸‹æ ‡ï¼Œç„¶åå†å¯»æ‰¾å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨`target - nums[i]`ï¼Œå¦‚æœå·²ç»å­˜åœ¨è¯´æ˜ä¹‹å‰å·²ç»éå†è¿‡ï¼Œæ­¤æ—¶ç›´æ¥è¿”å›å½“å‰ä¸‹æ ‡å’Œ`target - nums[i]`å¯¹åº”ä¸‹æ ‡å³å¯ã€‚

```java
public int[] twoSum(int[] nums, int target) {
    int len = nums.length;
    Map<Integer, Integer> map = new HashMap<>();
    for (int i = 0; i < len; i++) {
        if (map.containsKey(target - nums[i])) {
            return new int[]{i, map.get(target - nums[i])};
        }
        map.put(nums[i], i);
    }
    return new int[0];
}
```

### [20ã€æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/)

#### 1ã€æ ˆ

> åƒä»€ä¹ˆå·¦å³æ‹¬å·åŒ¹é…å°±ç¬¦åˆæ ˆ`å…ˆè¿›å…ˆå‡º`çš„ç‰¹æ€§ï¼Œé‡åˆ°å·¦æ‹¬å·åˆ™å°†å¯¹åº”å³æ‹¬å·`push`æ ˆä¸­ï¼Œé‡åˆ°å³æ‹¬å·åˆ™`pop`å‡ºæ¥ä¸å½“å‰å³æ‹¬å·è¿›è¡ŒåŒ¹é…ï¼Œç›¸åŒåˆ™ç»§ç»­ï¼Œä¸åŒåˆ™ç›´æ¥è¿”å›falseã€‚

```java
public boolean isValid(String s) {
    Stack<Character> stack = new Stack<>();
    for (char ch : s.toCharArray()) {
        if (ch == '(') {
            stack.push(')');
        } else if (ch == '{') {
            stack.push('}');
        } else if (ch == '[') {
            stack.push(']');
        } else if (stack.isEmpty() || stack.pop() != ch) {
            return false;
        }
    }
    // æœ€åå¯¹æ ˆè¿›è¡Œåˆ¤ç©º
    return stack.isEmpty();
}
```

### [21ã€åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/?favorite=2cktkvj)

> å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ **å‡åº** é“¾è¡¨å¹¶è¿”å›ï¼Œæ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ 

## MEDIUM

### [79ã€å•è¯æœç´¢](https://leetcode.cn/problems/word-search/)

#### 1ã€DFS

> é€’å½’éå†æ•°ç»„æ¯ä¸€ä¸ªä½ç½®ï¼Œä»¥è¯¥ä½ç½®ä¸ºèµ·ç‚¹ï¼Œä¸Šä¸‹å·¦å³è¿›è¡Œæ¨è¿›ï¼Œèµ°è¿‡çš„è·¯ç¨‹åšå¥½æ ‡è®°ï¼Œé‡åˆ°è¾¹ç•Œæˆ–è€…ä¸ä¸åŒ¹é…åˆ™è¿”å› `false`ï¼Œå¹¶æ¢å¤æ ‡è®°å¤åŸæ•°ç»„ï¼Œä¾æ¬¡è¿›è¡Œé€’å½’ï¼Œå¦‚æœé‡åˆ° `word` æœ€åä¸€ä½è¿”å› `true`ã€‚

```java
public boolean exist(char[][] board, String word) {
    char[] words = word.toCharArray();
    for (int i = 0; i < board.length; i++) {
        for (int j = 0; j < board[0].length; j++) {
            // ä»[i,j]è¿™ä¸ªåæ ‡å¼€å§‹æŸ¥æ‰¾
            if (dfs(board, words, i, j, 0)) {
                return true;
            }
        }
    }
    return false;
}

public boolean dfs(char[][] board, char[] word, int i, int j, int index) {
    // è¾¹ç•Œçš„åˆ¤æ–­ï¼Œå¦‚æœè¶Šç•Œç›´æ¥è¿”å›falseã€‚indexè¡¨ç¤ºçš„æ˜¯æŸ¥æ‰¾åˆ°å­—ç¬¦ä¸²wordçš„ç¬¬å‡ ä¸ªå­—ç¬¦ï¼Œ
    // å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸ç­‰äºboard[i][j]ï¼Œè¯´æ˜éªŒè¯è¿™ä¸ªåæ ‡è·¯å¾„æ˜¯èµ°ä¸é€šçš„ï¼Œç›´æ¥è¿”å›false
    if (i >= board.length || i < 0 || j >= board[i].length || j < 0 || board[i][j] != word[index]) {
        return false;
    }
    // å¦‚æœwordçš„æ¯ä¸ªå­—ç¬¦éƒ½æŸ¥æ‰¾å®Œäº†ï¼Œç›´æ¥è¿”å›true
    if (index == word.length - 1) {
        return true;
    }
    // æŠŠå½“å‰åæ ‡çš„å€¼ä¿å­˜ä¸‹æ¥ï¼Œä¸ºäº†åœ¨æœ€åå¤åŸ
    char temp = board[i][j];
    // ç„¶åä¿®æ”¹å½“å‰åæ ‡çš„å€¼
    board[i][j] = '.';
    // èµ°é€’å½’ï¼Œæ²¿ç€å½“å‰åæ ‡çš„ä¸Šä¸‹å·¦å³4ä¸ªæ–¹å‘æŸ¥æ‰¾
    boolean res = dfs(board, word, i + 1, j, index + 1) ||
        dfs(board, word, i - 1, j, index + 1) ||
        dfs(board, word, i, j + 1, index + 1) ||
        dfs(board, word, i, j - 1, index + 1);
    // é€’å½’ä¹‹åå†æŠŠå½“å‰çš„åæ ‡å¤åŸ
    board[i][j] = temp;
    return res;
}
```

### [146ã€LRU ç¼“å­˜](https://leetcode.cn/problems/lru-cache/)

#### 1ã€å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨

> `O(1)/O(capacity)`
>
> å®˜æ–¹å†™æŒºå¥½çš„ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ğŸ˜‚ä¸»è¦æ˜¯ä¹Ÿè¯´ä¸å‡ºæ¥å•¥äº†ï¼Œè¿™é¢˜ç¡®å®æ˜¯å­¦åˆ°äº†ï¼Œå…·ä½“è§å®˜æ–¹é¢˜è§£ã€‚

```java
class DLinkedNode {
    int key;
    int value;
    DLinkedNode prev;
    DLinkedNode next;
    public DLinkedNode() {}
    public DLinkedNode(int _key, int _value) {key = _key; value = _value;}
}

private Map<Integer, DLinkedNode> cache = new HashMap<Integer, DLinkedNode>();
private int size;
private int capacity;
private DLinkedNode head, tail;

public LRUCache(int capacity) {
    this.size = 0;
    this.capacity = capacity;
    // ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹
    head = new DLinkedNode();
    tail = new DLinkedNode();
    head.next = tail;
    tail.prev = head;
}

public int get(int key) {
    DLinkedNode node = cache.get(key);
    if (node == null) {
        return -1;
    }
    // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨
    moveToHead(node);
    return node.value;
}

public void put(int key, int value) {
    DLinkedNode node = cache.get(key);
    if (node == null) {
        // å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
        DLinkedNode newNode = new DLinkedNode(key, value);
        // æ·»åŠ è¿›å“ˆå¸Œè¡¨
        cache.put(key, newNode);
        // æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨
        addToHead(newNode);
        ++size;
        if (size > capacity) {
            // å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹
            DLinkedNode tail = removeTail();
            // åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹
            cache.remove(tail.key);
            --size;
        }
    }
    else {
        // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨
        node.value = value;
        moveToHead(node);
    }
}

private void addToHead(DLinkedNode node) {
    node.prev = head;
    node.next = head.next;
    head.next.prev = node;
    head.next = node;
}

private void removeNode(DLinkedNode node) {
    node.prev.next = node.next;
    node.next.prev = node.prev;
}

private void moveToHead(DLinkedNode node) {
    removeNode(node);
    addToHead(node);
}

private DLinkedNode removeTail() {
    DLinkedNode res = tail.prev;
    removeNode(res);
    return res;
}
```



### [207ã€è¯¾ç¨‹è¡¨](https://leetcode.cn/problems/course-schedule/)

#### 1ã€BFS

> åšæ¯ä¸€ä»¶äº‹ä¹‹å‰éƒ½æœ‰æ¡ä»¶ï¼Œå¿…é¡»å®Œæˆè¿™ä¸ªæ¡ä»¶æ‰å¯ä»¥åšè¿™ä»¶äº‹ï¼Œæ¯”å¦‚ç©¿è¡£æœï¼Œç©¿å¤–å¥—ä¹‹å‰ä¸€å®šä¼šç©¿å†…è£¤å’Œåº•è¡£ç­‰ç­‰ã€‚
>
> ç¤ºä¾‹ï¼šn = 6ï¼Œå…ˆå†³æ¡ä»¶è¡¨ï¼š[[3, 0], [3, 1], [4, 1], [4, 2], [5, 3], [5, 4]]ï¼Œè¯¾0ã€1ã€2æ²¡æœ‰å…ˆä¿®è¯¾ï¼Œå¯ä»¥ç›´æ¥é€‰ï¼Œå…¶ä½™çš„è¯¾ï¼Œéƒ½æœ‰ä¸¤é—¨å…ˆä¿®è¯¾ã€‚
>
> ![image-20230109205928810](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1273/image-20230109205928810.png)
>
> è¿™ç§å« **æœ‰å‘æ— ç¯å›¾**ï¼ŒæŠŠä¸€ä¸ª æœ‰å‘æ— ç¯å›¾ è½¬æˆ çº¿æ€§çš„æ’åº å°±å« **æ‹“æ‰‘æ’åº**ï¼Œæœ‰å‘å›¾æœ‰å…¥åº¦å’Œå‡ºåº¦çš„æ¦‚å¿µï¼šå¦‚æœå­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ A --> Bï¼Œåˆ™è¿™æ¡è¾¹ç»™ A å¢åŠ äº† 1 ä¸ªå‡ºåº¦ï¼Œç»™ B å¢åŠ äº† 1 ä¸ªå…¥åº¦ï¼Œæ‰€ä»¥ï¼Œé¡¶ç‚¹ 0ã€1ã€2 çš„å…¥åº¦ä¸º 0ã€‚é¡¶ç‚¹ 3ã€4ã€5 çš„å…¥åº¦ä¸º 2ã€‚
>
> ç»¼ä¸Šæ‰€è¿°ï¼Œæ¯æ¬¡åªèƒ½é€‰æ‹©å…¥åº¦ä¸º 0 çš„è¯¾ç¨‹ã€‚ï¼ˆå†™ä¸ä¸‹å»äº†ï¼Œhttps://leetcode.cn/problems/course-schedule/solution/bao-mu-shi-ti-jie-shou-ba-shou-da-tong-tuo-bu-pai-/å†™çš„å¤ªå¥½äº†ğŸ˜‚æˆ‘å¿«ç…§æŠ„äº†ï¼‰

```java
public boolean canFinish(int numCourses, int[][] prerequisites) {
    // 1.è¯¾å·å’Œå¯¹åº”çš„å…¥åº¦
    Map<Integer, Integer> inDegree = new HashMap<>();
    // å°†æ‰€æœ‰çš„è¯¾ç¨‹å…ˆæ”¾å…¥
    for (int i = 0; i < numCourses; i++) {
        inDegree.put(i, 0);
    }
    // 2.ä¾èµ–å…³ç³», ä¾èµ–å½“å‰è¯¾ç¨‹çš„ååºè¯¾ç¨‹
    Map<Integer, List<Integer>> map = new HashMap<>();
    // åˆå§‹åŒ–å…¥åº¦å’Œä¾èµ–å…³ç³»
    for (int[] relation : prerequisites) {
        // (3,0), æƒ³å­¦3å·è¯¾ç¨‹è¦å…ˆå®Œæˆ0å·è¯¾ç¨‹, æ›´æ–°3å·è¯¾ç¨‹çš„å…¥åº¦å’Œ0å·è¯¾ç¨‹çš„ä¾èµ–(é‚»æ¥è¡¨)
        int cur = relation[1];
        int next = relation[0];
        // 1.æ›´æ–°å…¥åº¦
        inDegree.put(next, inDegree.get(next) + 1);
        // 2.å½“å‰èŠ‚ç‚¹çš„é‚»æ¥è¡¨
        if (!map.containsKey(cur)) {
            map.put(cur, new ArrayList<>());
        }
        map.get(cur).add(next);
    }
    // 3.BFS, å°†å…¥åº¦ä¸º0çš„è¯¾ç¨‹æ”¾å…¥é˜Ÿåˆ—, é˜Ÿåˆ—ä¸­çš„è¯¾ç¨‹å°±æ˜¯æ²¡æœ‰å…ˆä¿®, å¯ä»¥å­¦çš„è¯¾ç¨‹
    Queue<Integer> queue = new LinkedList<>();
    for (int key : inDegree.keySet()) {
        if (inDegree.get(key) == 0) {
            queue.offer(key);
        }
    }
    // å–å‡ºä¸€ä¸ªèŠ‚ç‚¹, å¯¹åº”å­¦ä¹ è¿™é—¨è¯¾ç¨‹.
    // éå†å½“å‰é‚»æ¥è¡¨, æ›´æ–°å…¶å…¥åº¦; æ›´æ–°ä¹‹åæŸ¥çœ‹å…¥åº¦, å¦‚æœä¸º0, åŠ å…¥åˆ°é˜Ÿåˆ—
    while (!queue.isEmpty()) {
        int cur = queue.poll();
        // éå†å½“å‰è¯¾ç¨‹çš„é‚»æ¥è¡¨, æ›´æ–°åç»§èŠ‚ç‚¹çš„å…¥åº¦
        if (!map.containsKey(cur)) {
            continue;
        }
        List<Integer> list = map.get(cur);
        for (int course : list) {
            inDegree.put(course, inDegree.get(course) - 1);
            if (inDegree.get(course) == 0) {
                queue.offer(course);
            }
        }
    }
    // 4.éå†å…¥é˜Ÿ, å¦‚æœè¿˜æœ‰è¯¾ç¨‹çš„å…¥åº¦ä¸ä¸º0, è¿”å›false
    for (int key : inDegree.keySet()) {
        if (inDegree.get(key) != 0) {
            return false;
        }
    }
    return true;
}
```

#### 2ã€DFS

### [337ã€æ‰“å®¶åŠ«èˆ III](https://leetcode.cn/problems/house-robber-iii/)

#### 1ã€æš´åŠ›

> è¶…æ—¶

```java
public int rob(TreeNode root) {
    if (root == null) {
        return 0;
    }
    if (root.left == null && root.right == null) {
        return root.val;
    }
    int val1 = root.val;
    if (root.left != null) {
        val1 += rob(root.left.left) + rob(root.left.right);
    }
    if (root.right != null) {
        val1 += rob(root.right.left) + rob(root.right.right);
    }
    int val2 = rob(root.left) + rob(root.right);
    return Math.max(val1, val2);
}
```

#### 2ã€è®°å¿†åŒ–é€’æ¨

>æ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸€ä¸ªmapæŠŠè®¡ç®—è¿‡çš„ç»“æœä¿å­˜ä¸€ä¸‹ï¼Œè¿™æ ·å¦‚æœè®¡ç®—è¿‡å­™å­äº†ï¼Œé‚£ä¹ˆè®¡ç®—å­©å­çš„æ—¶å€™å¯ä»¥å¤ç”¨å­™å­èŠ‚ç‚¹çš„ç»“æœã€‚

```java
public int rob(TreeNode root) {
    if (root == null) {
        return 0;
    }
    if (root.left == null && root.right == null) {
        return root.val;
    }
    if (map.containsKey(root)) {
        return map.get(root);
    }
    int val1 = root.val;
    if (root.left != null) {
        val1 += rob(root.left.left) + rob(root.left.right);
    }
    if (root.right != null) {
        val1 += rob(root.right.left) + rob(root.right.right);
    }
    int val2 = rob(root.left) + rob(root.right);
    map.put(root, Math.max(val1, val2));
    return Math.max(val1, val2);
}
```

#### 3ã€åŠ¨æ€è§„åˆ’

> `O(N)/O(N)`
>
> æœ‰ç‚¹è®²ä¸å‡ºæ¥ï¼Œè¿˜æ˜¯ç›´æ¥å»å®˜æ–¹ä¸Šçœ‹å§ğŸ˜‚

```java
public int rob(TreeNode root) {
    int[] res = robAction(root);
    return Math.max(res[0], res[1]);
}
public int[] robAction(TreeNode root) {
    int[] res = new int[2];
    if (root == null) {
        return res;
    }
    int[] left = robAction(root.left);
    int[] right = robAction(root.right);
    res[0] = Math.max(left[0], left[1]) + Math.max(right[0], right[1]);
    res[1] = root.val + left[0] + right[0];
    return res;
}
```

### [437ã€è·¯å¾„æ€»å’Œ III](https://leetcode.cn/problems/path-sum-iii/)

#### 1ã€DFS

> å…¶å®å°±æ˜¯é€’å½’

```java
public int pathSum(TreeNode root, int targetSum) {
    if (root == null) {
        return 0;
    }
    int res = rootSum(root, targetSum);
    res += pathSum(root.left, targetSum);
    res += pathSum(root.right, targetSum);
    return res;
}

public int rootSum(TreeNode root, long targetSum) {
    if (root == null) {
        return 0;
    }
    int res = 0;
    int val = root.val;
    if (val == targetSum) {
        res++;
    }
    res += rootSum(root.left, targetSum - val);
    res += rootSum(root.right, targetSum - val);
    return res;
}
```



### [560ã€å’Œä¸º K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-sum-equals-k/?favorite=2cktkvj)

#### 1ã€æš´åŠ›

> `O(N^2)/O(1)`
>
> ç›´æ¥ä½¿ç”¨`åŒé‡forå¾ªç¯`è¿›è¡Œéå†ï¼Œå¯»æ‰¾æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„æ¯ä¸€ç§è¿ç»­å­æ•°ç»„æƒ…å†µï¼Œåˆ¤æ–­å’Œæ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œå› ä¸ºæ•°ç»„ä¸­æœ‰è´Ÿæ•°ï¼Œæ‰€ä»¥ä¸èƒ½æ±‚å’Œæ—¶å¤§äº`k`å°±ç›´æ¥é€€å‡ºã€‚

```java
public int subarraySum(int[] nums, int k) {
    int res = 0, len = nums.length;
    // åŒé‡å¾ªç¯ï¼Œæ²¡æ¯›ç—…
    for (int i = 0; i < len; i++) {
        int sum = 0;
        for (int j = i; j < len; j++) {
            sum += nums[j];
            if (sum == k) {
                ++res;
            }
        }
    }
    return res;
}
```

#### 2ã€å‰ç¼€å’Œ+å“ˆå¸Œè¡¨

> `O(N)/O(N)`
>
> å®šä¹‰`pre[i]`ä¸º`[0...i]`ä¸­æ‰€æœ‰æ•°çš„å’Œï¼ˆå‰ç¼€å’Œï¼‰ï¼Œå¯ä»¥æ¨å‡º`pre[i] = pre[i - 1] + nums[i]`ï¼Œé‚£ä¹ˆ`ã€Œ[j..i]è¿™ä¸ªå­æ•°ç»„å’Œä¸ºk ã€`è¿™ä¸ªæ¡ä»¶æˆ‘ä»¬å¯ä»¥è½¬åŒ–ä¸º`pre[i] - pre[j - 1] = k`==>`pre[j - 1] = pre[i] - k`ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘ä»¥`i`ç»“å°¾çš„å’Œä¸º`k`çš„è¿ç»­å­æ•°ç»„ä¸ªæ•°æ—¶åªè¦ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªå‰ç¼€å’Œä¸º`pre[i] - k`çš„`pre[j - 1]`å³å¯ï¼Œæœ€åç”¨å“ˆå¸Œè¡¨ï¼Œä»¥å’Œä¸º`key`ï¼Œä»¥å‡ºç°çš„`pre[i]`æ¬¡æ•°ä¸º`value`ã€‚
>

```JAVA
public int subarraySum(int[] nums, int k) {
    int count = 0, pre = 0;
    Map<Integer, Integer> map = new HashMap<>();
    // (0, 1)ä¸ºæ°å¥½ç´¯åŠ ä¸ºkæ—¶ï¼Œå¯ä»¥ç›¸äº’æŠµæ¶ˆçš„ç»“æœ
    map.put(0, 1);
    for (int num : nums) {
        // è®¡ç®—å‰ç¼€å’Œ
        pre += num;
        // å¯»æ‰¾æ˜¯å¦æœ‰ç›¸äº’æŠµæ¶ˆçš„ï¼Œç›¸å½“äºå¯»æ‰¾æ˜¯å¦æœ‰[æŸæ•°+k=pre]
        // å¦‚æœæœ‰ï¼Œé‚£ä¹ˆä»è¯¥æ•°å¼€å§‹åˆ°preçš„ä½ç½®çš„è¿ç»­æ•°ç»„çš„å’Œå¯ä»¥æ„æˆkï¼Œç´¯åŠ è¯¥æ•°å‡ºç°çš„æ¬¡æ•°å³å¯
        if (map.containsKey(pre - k)) {
            count += map.get(pre - k);
        }
        // å°†è¯¥å‰ç¼€å’ŒåŠ å…¥mapä¸­
        map.put(pre, map.getOrDefault(pre, 0) + 1);
    }
    return count;
}
```

### [581ã€æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„](https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/)

#### 1ã€æ’åº

> `O(NlogN)/O(N)`
>
> å¤åˆ¶ä¸€ä¸ªæ•°ç»„ `temp` å‡ºæ¥ï¼Œå¯¹å…¶è¿›è¡Œæ’åºï¼Œç„¶åä»æ•°ç»„å‰ç«¯å’Œåç«¯é€ä¸€ä¸åŸæ•°ç»„è¿›è¡Œå¯¹æ¯”ï¼Œé‡åˆ°ä¸åŒå°±åœæ­¢ï¼Œ`right - left + 1`å°±æ˜¯ç­”æ¡ˆäº†ã€‚

```java
public int findUnsortedSubarray_(int[] nums) {
    // åˆ¤æ–­æ˜¯å¦ä¸ºå…¨é€’å¢
    if (isSorted(nums)) {
        return 0;
    }
    int len = nums.length;
    // å¤åˆ¶ä¸€ä¸ªæ•°ç»„ï¼Œè¿›è¡Œæ’åº
    int[] sorted = Arrays.copyOf(nums, len);
    Arrays.sort(sorted);
    int left = 0, right = len - 1;
    while (nums[left] == sorted[left]) {
        left++;
    }
    while (nums[right] == sorted[right]) {
        right--;
    }
    return right - left + 1;
}

public boolean isSorted(int[] nums) {
    int len = nums.length;
    for (int i = 0; i < len - 1; i++) {
        if (nums[i] > nums[i + 1]) {
            return false;
        }
    }
    return true;
}
```

#### 2ã€ä¸€æ¬¡éå†

> `O(N)/O(1)`
>
> 

```java
public int findUnsortedSubarray(int[] nums) {
    int len = nums.length;
    int max = nums[0], min = nums[len - 1];
    int left = 0, right = -1;
    for (int i = 0; i < len; i++) {
        if (nums[i] < max) {
            right = i;
        } else {
            max = nums[i];
        }
        if (nums[len - i - 1] > min) {
            left = len - i - 1;
        } else {
            min = nums[len - i - 1];
        }
    }
    return right - left + 1;
}
```

### [621ã€ä»»åŠ¡è°ƒåº¦å™¨](https://leetcode.cn/problems/task-scheduler/)

#### 1ã€æ„é€ 

> ä¸‰å¶å§çš„é¢˜è§£æµ…æ˜¾æ˜“æ‡‚https://leetcode.cn/problems/task-scheduler/solution/by-ac_oier-3560/ï¼Œå®˜è§£æœç„¶è¿˜æ˜¯éœ€è¦åŠªåŠ›å•ŠğŸ˜†
>
>  <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1273/1666687680-aCVvro-image.png" alt="image.png " style="zoom:80%;" />
>
> **è¿™é‡ŒåŠ ç‚¹è‡ªå·±çš„ç†è§£ğŸ§**
>
> `(n + 1) * (max - 1)` æ˜¯ä¸€å®šè¦ ç­‰å¾…æˆ–è€…æ‰§è¡Œ çš„æ—¶é—´ï¼ˆå¦‚ä¸Šå›¾çš„3*4åŒºåŸŸï¼Œä¸ç®¡æœ‰æ²¡æœ‰ä»»åŠ¡ï¼Œéƒ½éœ€è¦æ¶ˆè€—ï¼‰ï¼Œå³é™¤æœ€åä¸€ä¸ªå¾ªç¯ï¼ˆå› ä¸ºå¯èƒ½æœ‰å‡ ä¸ªéœ€è¦æ‰§è¡Œ `max` æ¬¡çš„ä»»åŠ¡ï¼‰ï¼Œ`(n + 1) * (max - 1)` æ˜¯ä¸€å®šè¦æ¶ˆè€—çš„ï¼Œç„¶ååŠ ä¸Šæœ€åä¸€ä¸ªå¾ªç¯çš„ä¸ªæ•° `total`ï¼Œå°±æ˜¯ç†è®ºä¸Šçš„æœ€å°‘æ—¶é—´ `(n + 1) * (max - 1) + total`  ã€‚
>
> ![image.png](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1273/1666689295-VuBpQL-image.png)
>
> ä½†æ˜¯æœ‰å¯èƒ½ä»»åŠ¡çš„ç§ç±»å¾ˆå¤šï¼Œä½†æ˜¯å®ƒä»¬çš„æ•°é‡å¾ˆå°‘ï¼ˆå°‘äº`max`ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»åŠ¡æ€»æ•°å¯èƒ½ä¼šè¶…è¿‡ `(n + 1) * (max - 1) + total`ï¼Œæ‰€ä»¥å¯ä»¥å°†è¿™äº›ç§ç±»çš„ä»»åŠ¡åŠ åˆ°æ¯ä¸€è¡Œçš„`n + 1`å—çš„åé¢ï¼Œè¿™æ ·æ—¢ä¸ä¼šå¯¹è¦æ‰§è¡Œçš„ä»»åŠ¡é€ æˆå½±å“ï¼Œä¹Ÿä¸ä¼šå¼•å…¥é¢å¤–çš„å†·å´æ—¶é—´ã€‚

```java
public int leastInterval(char[] tasks, int n) {
    int[] counts = new int[26];
    // ç»Ÿè®¡æ¯ç§ä»»åŠ¡çš„æ•°é‡
    for (char task : tasks) {
        counts[task - 'A']++;
    }
    // maxä¸ºç§ç±»ä¸­ä»»åŠ¡æ•°æœ€å¤šçš„æ•°é‡ï¼Œtotalä¸ºæœ‰å‡ ä¸ªè¿™æ ·çš„ä»»åŠ¡ç§ç±»
    int max = 0, total = 0;
    for (int i = 0; i < 26; i++) {
        max = Math.max(max, counts[i]);
    }
    for (int i = 0; i < 26; i++) {
        total += counts[i] == max ? 1 : 0;
    }
    return Math.max(tasks.length, (n + 1) * (max - 1) + total);
}
```

> æ¨¡æ‹Ÿå±å®æ˜¯çœ‹éº»æˆ‘äº†ï¼Œä¸æƒ³çœ‹äº†ï¼Œè¿˜æ˜¯æ„é€ ç®€å•ï¼Œä½†æ˜¯å°±æ˜¯éš¾æƒ³ï¼Œå¤§å®¶ä¹Ÿéƒ½è¯´æ˜¯è„‘ç­‹æ€¥è½¬å¼¯ğŸ˜‚

## HARD

### [42ã€æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)

#### 1ã€æŒ‰åˆ—æ±‚

> `O(N^2)/O(1)`
>
> æ±‚æ¯ä¸€åˆ—çš„æ°´ï¼Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨å½“å‰åˆ—ï¼Œä»¥åŠå·¦è¾¹æœ€é«˜çš„å¢™ï¼Œå³è¾¹æœ€é«˜çš„å¢™å°±å¤Ÿäº†ã€‚è‡³äºå¯ä»¥è£…å¤šå°‘æ°´ï¼Œå°±çœ‹å·¦æœ€é«˜å¢™å’Œå³æœ€é«˜å¢™çš„è¾ƒå°å€¼äº†ï¼ˆæœ¨æ¡¶æ•ˆåº”ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š
>
> - è¾ƒçŸ®å¢™çš„é«˜åº¦å¤§äºå½“å‰åˆ—å¢™çš„é«˜åº¦
>
>   ![image.png](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1273/542754f4431d93141920185252aee31664a96dd17285b92dfe390e9e977bebb1-image.png)
>
>   å¾ˆæ˜æ˜¾ï¼Œå½“å‰åˆ—å¯ä»¥è£…çš„æ°´çš„å¤§å°å°±æ˜¯è¾ƒçŸ®å¢™çš„é«˜åº¦ï¼Œå‡å»å½“å‰åˆ—çš„å¢™çš„é«˜åº¦å³å¯ã€‚
>
> - è¾ƒçŸ®å¢™çš„é«˜åº¦å°äºå½“å‰åˆ—å¢™çš„é«˜åº¦
>
>   ![image.png](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1273/19a50c8f4125c01349ad32d069f564b51fbb4347fd91eae079b6ec1a46c1ccee-image.png)
>
>   ä¾æ—§å¾ˆæ˜æ˜¾ğŸ˜ï¼Œå½“å‰åˆ—ä¸èƒ½è£…å“ªæ€•ä¸€æ»´æ°´ã€‚
>
> - è¾ƒçŸ®å¢™çš„é«˜åº¦ç­‰äºå½“å‰åˆ—å¢™çš„é«˜åº¦
>
>   ![image.png](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/1273/89e7671c4cc94bfde2f532d7871c83dfce00e80ba687100a8839d2ea5bf5cd28-image.png)
>
>   ä¾æ—§å¾ˆæ˜æ˜¾ğŸ˜ï¼Œå’Œä¸Šä¸€ç§æƒ…å†µä¸€æ ·ï¼Œå½“å‰åˆ—ä¸èƒ½è£…å“ªæ€•ä¸€æ»´æ°´ã€‚
>
> æ‰€ä»¥ï¼Œåªæœ‰è¾ƒçŸ®å¢™çš„é«˜åº¦å¤§äºå½“å‰åˆ—å¢™çš„é«˜åº¦æ—¶ï¼Œæ‰å¯ä»¥è£…æ°´ï¼Œ**è£…æ°´çš„å¤šå°‘å°±æ˜¯å®ƒä»¬ä¹‹é—´çš„å·®å€¼**ã€‚

```java
public int trap(int[] height) {
    int sum = 0, len = height.length;
    // æœ€ä¸¤ç«¯çš„åˆ—ä¸ç”¨è€ƒè™‘ï¼Œå› ä¸ºä¸€å®šä¸ä¼šæœ‰æ°´ï¼Œæ‰€ä»¥ä¸‹æ ‡ä» 1 åˆ° len - 2
    for (int i = 1; i < len - 1; i++) {
        int left_max = 0, right_max = 0;
        // æ‰¾å‡ºå·¦è¾¹æœ€é«˜
        for (int j = i - 1; j >= 0; j--) {
            if (left_max < height[j]) {
                left_max = height[j];
            }
        }
        // æ‰¾å‡ºå³è¾¹æœ€é«˜
        for (int j = i + 1; j < len; j++) {
            if (right_max < height[j]) {
                right_max = height[j];
            }
        }
        // æ‰¾å‡ºä¸¤ç«¯è¾ƒå°çš„
        int min = Math.min(left_max, right_max);
        // åªæœ‰è¾ƒå°çš„ä¸€æ®µå¤§äºå½“å‰åˆ—çš„é«˜åº¦æ‰ä¼šæœ‰æ°´ï¼Œå…¶ä»–æƒ…å†µä¸ä¼šæœ‰æ°´
        if (min > height[i]) {
            sum += min - height[i];
        }
    }
    return sum;
}
```

> æ˜¾ç„¶ï¼Œè¿™ç§åšæ³•å¤æ‚åº¦è¿˜æ˜¯å¤ªé«˜äº†ï¼Œè€Œä¸”ä¸€ç›´å¾ªç¯åœ°æ‰¾å½“å‰åˆ—çš„å·¦æå¤§å€¼å’Œå³æå¤§å€¼ï¼Œå¯ä»¥è¿›è¡Œä¼˜åŒ–ã€‚

#### 2ã€åŠ¨æ€è§„åˆ’

> `O(N)/O(N)`
>
> 

```java
public int trap(int[] height) {
    int sum = 0, len = height.length;
    int[] left_max = new int[len];
    int[] right_max = new int[len];
    for (int i = 1; i < len - 1; i++) {
        left_max[i] = Math.max(left_max[i - 1], height[i - 1]);
    }
    for (int i = len - 2; i >= 0; i--) {
        right_max[i] = Math.max(right_max[i + 1], height[i + 1]);
    }
    for (int i = 1; i < len - 1; i++) {
        int min = Math.min(left_max[i], right_max[i]);
        if (min > height[i]) {
            sum += min - height[i];
        }
    }
    return sum;
}
```

### [84ã€æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](https://leetcode.cn/problems/largest-rectangle-in-histogram/)

#### 1ã€æš´åŠ›

> æœ‰ç‚¹ç±»ä¼¼äº[æ¥é›¨æ°´](#42ã€æ¥é›¨æ°´)ï¼Œ

```java
public int largestRectangleArea(int[] heights) {
    int len = heights.length;
    int res = 0;
    for (int i = 0; i < len; i++) {
        int left = i, right = i;
        // æ‰¾å·¦è¾¹æœ€å 1 ä¸ªå¤§äºç­‰äº heights[i] çš„ä¸‹æ ‡
        while (left > 0 && heights[left - 1] >= heights[i]) {
            left--;
        }
        // æ‰¾å³è¾¹æœ€å 1 ä¸ªå¤§äºç­‰äº heights[i] çš„ç´¢å¼•
        while (right < len - 1 && heights[right + 1] >= heights[i]) {
            right++;
        }
        res = Math.max(res, (right - left + 1) * heights[i]);
    }
    return res;
}
```



### [297ã€äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–](https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/)

>å…·ä½“è§£æè§https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/solution/297-er-cha-shu-de-xu-lie-hua-yu-fan-xu-l-647c/ï¼Œæ„Ÿè§‰æ¯”å®˜è§£å®¹æ˜“ç†è§£ä¸€äº›ã€‚

#### 1ã€DFS

>- åºåˆ—åŒ–
>  1. é€’å½’çš„ç¬¬ä¸€æ­¥éƒ½æ˜¯ç‰¹ä¾‹çš„å¤„ç†ï¼Œå› ä¸ºè¿™æ˜¯é€’å½’çš„ä¸­æ­¢æ¡ä»¶ï¼šå¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›â€nullâ€œ
>  2. åºåˆ—åŒ–çš„ç»“æœä¸ºï¼šæ ¹èŠ‚ç‚¹å€¼ + "," + å·¦å­èŠ‚ç‚¹å€¼(è¿›å…¥é€’å½’) + "," + å³å­èŠ‚ç‚¹å€¼(è¿›å…¥é€’å½’)
>  3. é€’å½’å°±æ˜¯ä¸æ–­å°†â€œæ ¹èŠ‚ç‚¹â€å€¼åŠ åˆ°ç»“æœä¸­çš„è¿‡ç¨‹
>- ååºåˆ—åŒ–
>  1. å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢æˆé˜Ÿåˆ—
>  2. æ¥ä¸‹æ¥å°±è¿›å…¥äº†é€’å½’
>     1. å¼¹å‡ºå·¦ä¾§å…ƒç´ ï¼Œå³é˜Ÿåˆ—å‡ºé˜Ÿ
>     2. å¦‚æœå…ƒç´ ä¸ºâ€œnullâ€ï¼Œè¿”å›nullï¼ˆpythonè¿”å›Noneï¼‰
>     3. å¦åˆ™ï¼Œæ–°å»ºä¸€ä¸ªå€¼ä¸ºå¼¹å‡ºå…ƒç´ çš„æ–°èŠ‚ç‚¹
>     4. å…¶å·¦å­èŠ‚ç‚¹ä¸ºé˜Ÿåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿›å…¥é€’å½’ï¼›å³å­èŠ‚ç‚¹ä¸ºé˜Ÿåˆ—çš„ä¸‹ä¸‹ä¸ªå…ƒç´ ï¼Œä¹Ÿè¿›å…¥é€’å½’
>     5. é€’å½’å°±æ˜¯ä¸æ–­å°†å­æ ‘çš„æ ¹èŠ‚ç‚¹è¿æ¥åˆ°çˆ¶èŠ‚ç‚¹çš„è¿‡ç¨‹

```java
public String serialize(TreeNode root) {
    if (root == null) {
        return "null";
    }
    return root.val + "," + serialize(root.left) + "," + serialize(root.right);
}

public TreeNode deserialize(String data) {
    Queue<String> queue = new LinkedList<>(Arrays.asList(data.split(",")));
    return dfs(queue);
}

public TreeNode dfs(Queue<String> queue) {
    String val =  queue.poll();
    if ("null".equals(val)) {
        return null;
    }
    TreeNode root = new TreeNode(Integer.parseInt(val));
    root.left = dfs(queue);
    root.right = dfs(queue);
    return root;
}
```

#### 2ã€BFS

>- åºåˆ—åŒ–
>  1. ç”¨BFSéå†æ ‘ï¼Œä¸ä¸€èˆ¬éå†çš„ä¸åŒç‚¹æ˜¯ä¸ç®¡nodeçš„å·¦å³å­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ï¼Œç»Ÿç»ŸåŠ åˆ°é˜Ÿåˆ—ä¸­
>  2. åœ¨èŠ‚ç‚¹å‡ºé˜Ÿæ—¶ï¼Œå¦‚æœèŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåœ¨è¿”å›å€¼resä¸­åŠ å…¥ä¸€ä¸ªâ€nullâ€œï¼›å¦‚æœèŠ‚ç‚¹å­˜åœ¨ï¼Œåˆ™åŠ å…¥èŠ‚ç‚¹å€¼çš„å­—ç¬¦ä¸²å½¢å¼
>- ååºåˆ—åŒ–
>  1. åŒæ ·ä½¿ç”¨BFSæ–¹æ³•ï¼Œåˆ©ç”¨é˜Ÿåˆ—æ–°å»ºäºŒå‰æ ‘
>  2. é¦–å…ˆè¦å°†dataè½¬æ¢æˆåˆ—è¡¨ï¼Œç„¶åéå†ï¼Œåªè¦ä¸ä¸ºnullå°†èŠ‚ç‚¹æŒ‰é¡ºåºåŠ å…¥äºŒå‰æ ‘ä¸­ï¼›åŒæ—¶è¿˜è¦å°†èŠ‚ç‚¹å…¥é˜Ÿ
>  3. é˜Ÿåˆ—ä¸ºç©ºæ—¶éå†å®Œæ¯•ï¼Œè¿”å›æ ¹èŠ‚ç‚¹

```java
public String serialize(TreeNode root) {
    if (root == null) {
        return "";
    }
    StringBuilder res = new StringBuilder();
    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);
    while (!queue.isEmpty()) {
        TreeNode node = queue.poll();
        if (node != null) {
            res.append("" + node.val);
            queue.offer(node.left);
            queue.offer(node.right);
        } else {
            res.append("null");
        }
        res.append(",");
    }
    return res.toString();
}

public TreeNode deserialize(String data) {
    if (data == "") {
        return null;
    }
    String[] dataList = data.split(",");
    TreeNode root = new TreeNode(Integer.parseInt(dataList[0]));
    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);
    int index = 1;
    while (!queue.isEmpty()) {
        TreeNode node = queue.poll();
        if (!"null".equals(dataList[index])) {
            node.left = new TreeNode(Integer.parseInt(dataList[index]));
            queue.offer(node.left);
        }
        index++;
        if (!"null".equals(dataList[index])) {
            node.right = new TreeNode(Integer.parseInt(dataList[index]));
            queue.offer(node.right);
        }
        index++;
    }
    return root;
}
```

> é’ˆä¸æˆ³ï¼Œåˆå›é¡¾äº†ä¸€ä¸‹æ ‘çš„éå†ï¼Œè¿™æ ·ä¸€çœ‹å¥½åƒåˆæŒºç®€å•çš„ğŸ˜‚æœç„¶è¿˜æ˜¯åˆ·å°‘é¢˜äº†
